<!DOCTYPE HTML>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Embedded widget test</title>

  <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: arial;
    }
  </style>
</head>
<body>
<h1><img src="http://symbiant.co.nz/images/symbiant_logo.png" style="max-height: 55px; float: right" />FIDS flight widget demo</h1>
<div class="fids-flights"></div>


<script>

(function (window, document) {

  //TODO: new way of defining cols
  var columns = {
    arrivals: {
      est: {'label' : 'Est'}
    }
    ,departures: {
      est: {'label' : 'Est'}
    }
  }
  var loader = function () {
    // Fids widget options
    var options = {
      airportCode: 'dud', // mandatory, , add your airport code here
      fontSize: 14, // optional, font pixel(px) size, defaults to 12
      skin: 'fids-flat', // optional, leave blank for no skin
      airlineLogoColour: 'dark', //optional, 'light' or 'dark' defaults to dark, light maybe required when serving up the flight table on a dark background
      tabs: true, // optional, if true converts flight list into tabbed 'arrival/departure' tabs, otherwise tables display in list
      activeTab: 1, //optional, will default to first tab (0 = departures) if not set 
      marquee: true, // optional, if true, and device width < 320px, codeshares scroll
      marqueeForce: false, // optional, if true, marquee iasalways on
      columns: columns,
      mode: 'dev' // optional, for dev use only, injects static <airport>.json
    };
    var script = document.createElement("script"), tag = document.getElementsByTagName("script")[0];
    script.src = "./../fids-flights.min.js";
    script.id = "fids-flights-script";
    script.setAttribute("data-options",JSON.stringify(options));
    tag.parentNode.insertBefore(script, tag);
  };
  window.addEventListener ? window.addEventListener("load", loader, false) : window.attachEvent("onload", loader);
})(window, document);
</script>
</body>
</html>